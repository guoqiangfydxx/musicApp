{"version":3,"sources":["webpack:///./src/base/listview/listview.vue?ab80","webpack:///src/base/listview/listview.vue","webpack:///./src/base/listview/listview.vue?d3ed","webpack:///./src/base/listview/listview.vue","webpack:///src/components/singer/singer.vue","webpack:///./src/components/singer/singer.vue?ffc5","webpack:///./src/components/singer/singer.vue","webpack:///./src/base/listview/listview.vue?41c5","webpack:///./src/common/js/dom.js","webpack:///./src/components/singer/singer.vue?cfdc","webpack:///./src/api/singer.js","webpack:///./src/components/singer/singer.vue?049e"],"names":["module","exports","__webpack_require__","push","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","listview","Array","pageY","index","diff","currentindex","y","listgroup","height","clientHeight","item","listHeight","newY","_this","this","_calculateHeight","fixedTop","Scroll","scroll_scroll","loading","listview_listview","render","_vm","_h","$createElement","_c","_self","ref","staticClass","attrs","data","listData","listenScroll","probeType","on","scroll","listScroll","_l","group","refInFor","_v","_s","title","click","$event","selectItem","directives","name","rawName","value","expression","alt","touchstart","stopPropagation","preventDefault","onShortcutTouchStart","touchmove","onShortcutTouchMove","class","currentIndex","data-index","fixedTitle","length","staticRenderFns","base_listview_listview","normalizeComponent","ssrContext","_getSingerList","methods","extends_default","bottom","list","Fsinger_mid","Fsinger_name","Findex","key","val","ret","id","singer","Listview","components_singer_singer","singers","select","selectSinger","singer_Component","singer_normalizeComponent","singer_singer","__webpack_exports__","content","locals","el","className","RegExp","test","hasClass","newClass","split","join","setAttribute","getAttribute","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default","__WEBPACK_IMPORTED_MODULE_2__config__","channel","page","pagesize","pagenum","hostUin","needNewCode","platform","format","__WEBPACK_IMPORTED_MODULE_3_axios___default","a","get","params","then","res","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","resolve","singerId","begin","num","order","songstatus","singermid","Object","__WEBPACK_IMPORTED_MODULE_4_common_js_jsonp__"],"mappings":"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","file":"static/js/1.161807364956c5101c61.js","sourcesContent":["exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.listview {\\n  position: relative;\\n  width: 100%;\\n  height: 100%;\\n  overflow: hidden;\\n  background: #222;\\n}\\n.listview .list_group {\\n  padding-bottom: 30px;\\n}\\n.listview .list_group .list_group_title {\\n  height: 30px;\\n  line-height: 30px;\\n  padding-left: 20px;\\n  font-size: 12px;\\n  color: rgba(255,255,255,0.5);\\n  background: #333;\\n}\\n.listview .list_group .list_group_item {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n  padding: 20px 0 0 30px;\\n}\\n.listview .list_group .list_group_item .avatar {\\n  width: 50px;\\n  height: 50px;\\n  border-radius: 50%;\\n}\\n.listview .list_group .list_group_item .name {\\n  margin-left: 20px;\\n  color: rgba(255,255,255,0.5);\\n  font-size: 14px;\\n}\\n.listview .list_shortcut {\\n  position: absolute;\\n  z-index: 30;\\n  right: 0;\\n  top: 50%;\\n  -webkit-transform: translateY(-50%);\\n          transform: translateY(-50%);\\n  width: 20px;\\n  padding: 20px 0;\\n  border-radius: 10px;\\n  text-align: center;\\n  background: rgba(0,0,0,0.3);\\n  font-family: Helvetica;\\n}\\n.listview .list_shortcut .item {\\n  padding: 3px;\\n  line-height: 1;\\n  color: rgba(255,255,255,0.5);\\n  font-size: 12px;\\n}\\n.listview .list_shortcut .item.current {\\n  color: #ffcd32;\\n}\\n.listview .list-fixed {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n}\\n.listview .list-fixed .fixed-title {\\n  height: 30px;\\n  line-height: 30px;\\n  padding-left: 20px;\\n  font-size: 12px;\\n  color: rgba(255,255,255,0.5);\\n  background: #333;\\n}\\n.listview .loading-container {\\n  position: absolute;\\n  width: 100%;\\n  top: 50%;\\n  -webkit-transform: translateY(-50%);\\n          transform: translateY(-50%);\\n}\", \"\", {\"version\":3,\"sources\":[\"E:/xampp/htdocs/musicApp/vueMusic/src/base/listview/listview.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,mBAAmB;EACnB,YAAY;EACZ,aAAa;EACb,iBAAiB;EACjB,iBAAiB;CAClB;AACD;EACE,qBAAqB;CACtB;AACD;EACE,aAAa;EACb,kBAAkB;EAClB,mBAAmB;EACnB,gBAAgB;EAChB,6BAA6B;EAC7B,iBAAiB;CAClB;AACD;EACE,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;EACd,0BAA0B;MACtB,uBAAuB;UACnB,oBAAoB;EAC5B,uBAAuB;CACxB;AACD;EACE,YAAY;EACZ,aAAa;EACb,mBAAmB;CACpB;AACD;EACE,kBAAkB;EAClB,6BAA6B;EAC7B,gBAAgB;CACjB;AACD;EACE,mBAAmB;EACnB,YAAY;EACZ,SAAS;EACT,SAAS;EACT,oCAAoC;UAC5B,4BAA4B;EACpC,YAAY;EACZ,gBAAgB;EAChB,oBAAoB;EACpB,mBAAmB;EACnB,4BAA4B;EAC5B,uBAAuB;CACxB;AACD;EACE,aAAa;EACb,eAAe;EACf,6BAA6B;EAC7B,gBAAgB;CACjB;AACD;EACE,eAAe;CAChB;AACD;EACE,mBAAmB;EACnB,OAAO;EACP,QAAQ;EACR,YAAY;CACb;AACD;EACE,aAAa;EACb,kBAAkB;EAClB,mBAAmB;EACnB,gBAAgB;EAChB,6BAA6B;EAC7B,iBAAiB;CAClB;AACD;EACE,mBAAmB;EACnB,YAAY;EACZ,SAAS;EACT,oCAAoC;UAC5B,4BAA4B;CACrC\",\"file\":\"listview.vue\",\"sourcesContent\":[\"\\n.listview {\\n  position: relative;\\n  width: 100%;\\n  height: 100%;\\n  overflow: hidden;\\n  background: #222;\\n}\\n.listview .list_group {\\n  padding-bottom: 30px;\\n}\\n.listview .list_group .list_group_title {\\n  height: 30px;\\n  line-height: 30px;\\n  padding-left: 20px;\\n  font-size: 12px;\\n  color: rgba(255,255,255,0.5);\\n  background: #333;\\n}\\n.listview .list_group .list_group_item {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n  padding: 20px 0 0 30px;\\n}\\n.listview .list_group .list_group_item .avatar {\\n  width: 50px;\\n  height: 50px;\\n  border-radius: 50%;\\n}\\n.listview .list_group .list_group_item .name {\\n  margin-left: 20px;\\n  color: rgba(255,255,255,0.5);\\n  font-size: 14px;\\n}\\n.listview .list_shortcut {\\n  position: absolute;\\n  z-index: 30;\\n  right: 0;\\n  top: 50%;\\n  -webkit-transform: translateY(-50%);\\n          transform: translateY(-50%);\\n  width: 20px;\\n  padding: 20px 0;\\n  border-radius: 10px;\\n  text-align: center;\\n  background: rgba(0,0,0,0.3);\\n  font-family: Helvetica;\\n}\\n.listview .list_shortcut .item {\\n  padding: 3px;\\n  line-height: 1;\\n  color: rgba(255,255,255,0.5);\\n  font-size: 12px;\\n}\\n.listview .list_shortcut .item.current {\\n  color: #ffcd32;\\n}\\n.listview .list-fixed {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n}\\n.listview .list-fixed .fixed-title {\\n  height: 30px;\\n  line-height: 30px;\\n  padding-left: 20px;\\n  font-size: 12px;\\n  color: rgba(255,255,255,0.5);\\n  background: #333;\\n}\\n.listview .loading-container {\\n  position: absolute;\\n  width: 100%;\\n  top: 50%;\\n  -webkit-transform: translateY(-50%);\\n          transform: translateY(-50%);\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-f918a4a6\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/stylus-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/base/listview/listview.vue\n// module id = /HFC\n// module chunks = 1","<template>\r\n  <scroll class=\"listview\" :data=\"listData\" ref=\"listview\" :listenScroll=\"listenScroll\" @scroll=\"listScroll\" :probeType=\"probeType\">\r\n    <ul>\r\n      <li v-for=\"group in listData\" class=\"list_group\" ref=\"listgroup\">\r\n        <h2 class=\"list_group_title\">{{group.title}}</h2>\r\n        <ul>\r\n          <li v-for=\"item in group.items\" class=\"list_group_item\" @click=\"selectItem(item)\">\r\n            <img v-lazy=\"item.avatar\" alt=\"\" class=\"avatar\">\r\n            <p class=\"name\">{{item.name}}</p>\r\n          </li>\r\n        </ul>\r\n      </li>\r\n    </ul>\r\n    <div class=\"list_shortcut\" @touchstart.stop.prevent=\"onShortcutTouchStart\" @touchmove.stop.prevent=\"onShortcutTouchMove\">\r\n      <ul>\r\n        <li v-for=\"(item, index) in shortcutList\" class=\"item\" :data-index=\"index\" :class=\"currentIndex === index ? 'current' : ''\">{{item}}</li>\r\n      </ul>\r\n    </div>\r\n    <div class=\"list-fixed\" v-show=\"fixedTitle\" ref=\"listFixed\">\r\n      <h1 class=\"fixed-title\">{{fixedTitle}}</h1>\r\n    </div>\r\n    <div class=\"loading-container\" v-show=\"!listData.length\">\r\n      <loading></loading>\r\n    </div>\r\n  </scroll>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\nimport Scroll from '@/base/scroll/scroll'\r\nimport {getData} from 'common/js/dom'\r\nimport loading from '@/base/loading/loading'\r\nexport default {\r\n  props: {\r\n    listData: {\r\n      type: Array,\r\n      default: []\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      scrolly: 0,\r\n      currentIndex: 0,\r\n      diff: -1\r\n    }\r\n  },\r\n  created() {\r\n    this.touch = {}\r\n    this.listenScroll = true\r\n    this.listHeight = []\r\n    this.probeType = 3\r\n  },\r\n  computed: {\r\n    shortcutList() {\r\n      return this.listData.map((group) => {\r\n        return group.title.substr(0, 1)\r\n      })\r\n    },\r\n    fixedTitle() {\r\n      if (this.scrolly > 0) {\r\n        return\r\n      }\r\n      return this.listData[this.currentIndex] ? this.listData[this.currentIndex].title : ''\r\n    }\r\n  },\r\n  methods: {\r\n    onShortcutTouchStart(e) {\r\n      let index = getData(e.target, 'index')\r\n      let firsttouch = e.touches[0]\r\n      this.touch.y1 = firsttouch.pageY\r\n      this.touch.index = index\r\n      this._scrollTo(index)\r\n    },\r\n    onShortcutTouchMove(e) {\r\n      let endtouch = e.touches[0]\r\n      this.touch.y2 = endtouch.pageY\r\n      let diff = (this.touch.y2 - this.touch.y1) / 18 | 0\r\n      let currentindex = parseInt(this.touch.index) + diff\r\n      this._scrollTo(currentindex)\r\n    },\r\n    listScroll(pos) {\r\n      this.scrolly = pos.y\r\n    },\r\n    _scrollTo(index) {\r\n      if (!index && index !== 0) {\r\n        return\r\n      }\r\n      if (index < 0) {\r\n        index = 0\r\n      } else if (index > this.listHeight.length - 2) {\r\n        index = this.listHeight.length - 2\r\n      }\r\n      this.scrolly = -this.listHeight[index]\r\n      this.$refs.listview.scrollToElement(this.$refs.listgroup[index], 10)\r\n    },\r\n    _calculateHeight() {\r\n      const list = this.$refs.listgroup\r\n      let height = 0\r\n      this.listHeight.push(height)\r\n      for (var i = 0; i < list.length; i++) {\r\n        let temp = list[i]\r\n        height += temp.clientHeight\r\n        this.listHeight.push(height)\r\n      }\r\n    },\r\n    selectItem(item) {\r\n      this.$emit('select', item)\r\n    }\r\n  },\r\n  watch: {\r\n    scrolly(newY) {\r\n      const listHeight = this.listHeight\r\n      // 滚动到顶部\r\n      if (newY > 0) {\r\n        this.currentIndex = 0\r\n        return\r\n      }\r\n      // 滚动到中间\r\n      for (var i = 0; i < listHeight.length - 1; i++) {\r\n        let height1 = listHeight[i]\r\n        let height2 = listHeight[i + 1]\r\n        if (-newY >= height1 && -newY < height2) {\r\n          this.currentIndex = i\r\n          this.diff = height2 + newY\r\n          return\r\n        }\r\n      }\r\n      this.currnetIndex = this.listHeight.length - 2\r\n    },\r\n    listData() {\r\n      setTimeout(() => {\r\n        this._calculateHeight()\r\n      }, 20)\r\n    },\r\n    diff(val) {\r\n      let fixedTop = (val > 0 && val < 30) ? val - 30 : 0\r\n      if (this.fixed === fixedTop) {\r\n        return\r\n      }\r\n      this.fixedTop = fixedTop\r\n      this.$refs.listFixed.style.transform = `translate3d(0, ${fixedTop}px, 0)`\r\n    }\r\n  },\r\n  components: {\r\n    Scroll,\r\n    loading\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang='stylus' rel='stylesheet/stylus'>\r\n  @import \"~common/stylus/variable\"\r\n  .listview\r\n    position: relative\r\n    width: 100%\r\n    height: 100%\r\n    overflow: hidden\r\n    background: $color-background\r\n    .list_group\r\n      padding-bottom: 30px\r\n      .list_group_title\r\n        height: 30px\r\n        line-height: 30px\r\n        padding-left: 20px\r\n        font-size: $font-size-small\r\n        color: $color-text-l\r\n        background: $color-highlight-background\r\n      .list_group_item\r\n        display: flex\r\n        align-items: center\r\n        padding: 20px 0 0 30px\r\n        .avatar\r\n          width: 50px\r\n          height: 50px\r\n          border-radius: 50%\r\n        .name\r\n          margin-left: 20px\r\n          color: $color-text-l\r\n          font-size: $font-size-medium\r\n    .list_shortcut\r\n      position: absolute\r\n      z-index: 30\r\n      right: 0\r\n      top: 50%\r\n      transform: translateY(-50%)\r\n      width: 20px\r\n      padding: 20px 0\r\n      border-radius: 10px\r\n      text-align: center\r\n      background: $color-background-d\r\n      font-family: Helvetica\r\n      .item\r\n        padding: 3px\r\n        line-height: 1\r\n        color: $color-text-l\r\n        font-size: $font-size-small\r\n        &.current\r\n          color: $color-theme\r\n    .list-fixed\r\n      position: absolute\r\n      top: 0\r\n      left: 0\r\n      width: 100%\r\n      .fixed-title\r\n        height: 30px\r\n        line-height: 30px\r\n        padding-left: 20px\r\n        font-size: $font-size-small\r\n        color: $color-text-l\r\n        background: $color-highlight-background\r\n    .loading-container\r\n      position: absolute\r\n      width: 100%\r\n      top: 50%\r\n      transform: translateY(-50%)\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/listview/listview.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('scroll',{ref:\"listview\",staticClass:\"listview\",attrs:{\"data\":_vm.listData,\"listenScroll\":_vm.listenScroll,\"probeType\":_vm.probeType},on:{\"scroll\":_vm.listScroll}},[_c('ul',_vm._l((_vm.listData),function(group){return _c('li',{ref:\"listgroup\",refInFor:true,staticClass:\"list_group\"},[_c('h2',{staticClass:\"list_group_title\"},[_vm._v(_vm._s(group.title))]),_vm._v(\" \"),_c('ul',_vm._l((group.items),function(item){return _c('li',{staticClass:\"list_group_item\",on:{\"click\":function($event){_vm.selectItem(item)}}},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.avatar),expression:\"item.avatar\"}],staticClass:\"avatar\",attrs:{\"alt\":\"\"}}),_vm._v(\" \"),_c('p',{staticClass:\"name\"},[_vm._v(_vm._s(item.name))])])}))])})),_vm._v(\" \"),_c('div',{staticClass:\"list_shortcut\",on:{\"touchstart\":function($event){$event.stopPropagation();$event.preventDefault();_vm.onShortcutTouchStart($event)},\"touchmove\":function($event){$event.stopPropagation();$event.preventDefault();_vm.onShortcutTouchMove($event)}}},[_c('ul',_vm._l((_vm.shortcutList),function(item,index){return _c('li',{staticClass:\"item\",class:_vm.currentIndex === index ? 'current' : '',attrs:{\"data-index\":index}},[_vm._v(_vm._s(item))])}))]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.fixedTitle),expression:\"fixedTitle\"}],ref:\"listFixed\",staticClass:\"list-fixed\"},[_c('h1',{staticClass:\"fixed-title\"},[_vm._v(_vm._s(_vm.fixedTitle))])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.listData.length),expression:\"!listData.length\"}],staticClass:\"loading-container\"},[_c('loading')],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f918a4a6\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/listview/listview.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f918a4a6\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./listview.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./listview.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f918a4a6\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./listview.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/listview/listview.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div id=\"singer\" ref=\"singer\">\r\n  \t<listview :listData=\"singers\" @select=\"selectSinger\" ref=\"list\"></listview>\r\n    <router-view></router-view>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\nimport {getSingerList} from '@/api/singer'\r\nimport {ERR_OK} from '@/api/config'\r\nimport Listview from '@/base/listview/listview'\r\nimport {mapMutations} from 'vuex'\r\nimport {PlayListMixin} from 'common/js/mixin'\r\nexport default {\r\n  mixins: [PlayListMixin],\r\n  data() {\r\n    return {\r\n      singers: []\r\n    }\r\n  },\r\n  created() {\r\n    this._getSingerList()\r\n  },\r\n  methods: {\r\n    handlePlayList(playlist) {\r\n      const bottom = playlist.length > 0 ? '60px' : ''\r\n      this.$refs.singer.style.bottom = bottom\r\n    },\r\n    _getSingerList() {\r\n      getSingerList().then((res) => {\r\n        if (res.code === ERR_OK) {\r\n          this.singers = this._normalizeSinger(res.data.list)\r\n        }\r\n      })\r\n    },\r\n    _normalizeSinger(list) {\r\n      let map = {\r\n        hot: {\r\n          title: '热门',\r\n          items: []\r\n        }\r\n      }\r\n      list.forEach((item, index) => {\r\n        if (index < 10) {\r\n          map.hot.items.push({\r\n            id: item.Fsinger_mid,\r\n            name: item.Fsinger_name,\r\n            avatar: `http://y.gtimg.cn/music/photo_new/T001R150x150M000${item.Fsinger_mid}.jpg?max_age=2592000`\r\n          })\r\n        }\r\n        let key = item.Findex\r\n        if (!map[key]) {\r\n          map[key] = {\r\n            title: key,\r\n            items: []\r\n          }\r\n        }\r\n        map[key].items.push({\r\n          id: item.Fsinger_mid,\r\n          name: item.Fsinger_name,\r\n          avatar: `http://y.gtimg.cn/music/photo_new/T001R150x150M000${item.Fsinger_mid}.jpg?max_age=2592000`\r\n        })\r\n      })\r\n      // 为了得到有序列表，需要处理map\r\n      let hot = []\r\n      let ret = []\r\n      for (let key in map) {\r\n        let val = map[key]\r\n        if (val.title.match(/[a-zA-Z]/)) {\r\n          ret.push(val)\r\n        } else if (val.title === '热门') {\r\n          hot.push(val)\r\n        }\r\n      }\r\n      ret.sort((a, b) => {\r\n        return a.title.charCodeAt(0) - b.title.charCodeAt(0)\r\n      })\r\n      return hot.concat(ret)\r\n    },\r\n    selectSinger(singer) {\r\n      this.$router.push({\r\n        path: `/singer/${singer.id}`\r\n      })\r\n      // 这样就实现了对一个mutation的提交\r\n      this.setSinger(singer)\r\n    },\r\n    ...mapMutations({\r\n      setSinger: 'SET_SINGER'\r\n    })\r\n  },\r\n  components: {\r\n    Listview\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang='stylus' rel='stylesheet/stylus'>\r\n\t#singer\r\n\t\tposition:fixed\r\n\t\ttop: 88px\r\n\t\twidth: 100%\r\n\t\toverflow: hidden\r\n\t\tbottom: 0\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/singer/singer.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"singer\",attrs:{\"id\":\"singer\"}},[_c('listview',{ref:\"list\",attrs:{\"listData\":_vm.singers},on:{\"select\":_vm.selectSinger}}),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-264216b0\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/singer/singer.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-264216b0\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./singer.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./singer.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-264216b0\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./singer.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/singer/singer.vue\n// module id = null\n// module chunks = ","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f918a4a6\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/stylus-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./listview.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"65212698\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-f918a4a6\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/stylus-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/base/listview/listview.vue\n// module id = 2958\n// module chunks = 1","export function addClass(el, className) {\r\n  if (hasClass(el, className)) {\r\n    return\r\n  }\r\n  let newClass = el.className.split(' ')\r\n  newClass.push(className)\r\n  el.className = newClass.join(' ')\r\n}\r\nexport function hasClass(el, className) {\r\n  let reg = new RegExp('(^|\\\\s)' + className + '(\\\\s|$)')\r\n  return reg.test(el.className)\r\n}\r\n\r\nexport function getData(el, name, val) {\r\n  let prefix = 'data-'\r\n  if (val) {\r\n    return el.setAttribute(prefix + name, val)\r\n  } else {\r\n    return el.getAttribute(prefix + name)\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/dom.js","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n#singer {\\n  position: fixed;\\n  top: 88px;\\n  width: 100%;\\n  overflow: hidden;\\n  bottom: 0;\\n}\", \"\", {\"version\":3,\"sources\":[\"E:/xampp/htdocs/musicApp/vueMusic/src/components/singer/singer.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,gBAAgB;EAChB,UAAU;EACV,YAAY;EACZ,iBAAiB;EACjB,UAAU;CACX\",\"file\":\"singer.vue\",\"sourcesContent\":[\"\\n#singer {\\n  position: fixed;\\n  top: 88px;\\n  width: 100%;\\n  overflow: hidden;\\n  bottom: 0;\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-264216b0\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/stylus-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/singer/singer.vue\n// module id = LdQe\n// module chunks = 1","import {commonParams, options} from './config'\r\nimport axios from 'axios'\r\nimport jsonp from 'common/js/jsonp'\r\n\r\nexport function getSingerList() {\r\n  const url = '/api/getSingerList'\r\n\r\n  const data = Object.assign({}, commonParams, {\r\n    channel: 'singer',\r\n    page: 'list',\r\n    key: 'all_all_all',\r\n    pagesize: 100,\r\n    pagenum: 1,\r\n    hostUin: 0,\r\n    needNewCode: 0,\r\n    platform: 'yqq',\r\n    format: 'json'\r\n  })\r\n\r\n  return axios.get(url, {\r\n    params: data\r\n  }).then((res) => {\r\n    return Promise.resolve(res.data)\r\n  })\r\n}\r\n\r\nexport function getSingerDetail(singerId) {\r\n  const url = 'https://c.y.qq.com/v8/fcg-bin/fcg_v8_singer_track_cp.fcg'\r\n\r\n  const data = Object.assign({}, commonParams, {\r\n    hostUin: 0,\r\n    needNewCode: 0,\r\n    platform: 'yqq',\r\n    begin: 0,\r\n    num: 100,\r\n    order: 'listen',\r\n    songstatus: 1,\r\n    singermid: singerId,\r\n    format: 'jsonp'\r\n  })\r\n\r\n  return jsonp(url, data, options)\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/api/singer.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-264216b0\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/stylus-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./singer.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"26742a68\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-264216b0\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/stylus-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/singer/singer.vue\n// module id = YEOM\n// module chunks = 1"],"sourceRoot":""}